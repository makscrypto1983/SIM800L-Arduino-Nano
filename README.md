–í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ñ–∞–π–ª **README.md** –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∫–µ—Ç—á–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –∫–∞–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Ä—è–¥–æ–º —Å –ø—Ä–æ–µ–∫—Ç–æ–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è –∫–æ–ª–ª–µ–≥/—Å–µ–±—è –≤ –±—É–¥—É—â–µ–º.

---

# GPRS IP Checker (Lite Version) –¥–ª—è SIM800L –∏ Arduino

–≠—Ç–æ—Ç —Å–∫–µ—Ç—á –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–æ–¥—É–ª—è **SIM800L**, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –∫ **Arduino Nano/Uno**.

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GPRS (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ **MTS**), –¥–µ–ª–∞–µ—Ç HTTP GET-–∑–∞–ø—Ä–æ—Å –Ω–∞ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Å–µ—Ä–≤–∏—Å `http://eth0.me` –∏ –≤—ã–≤–æ–¥–∏—Ç –≤–∞—à –≤–Ω–µ—à–Ω–∏–π IP-–∞–¥—Ä–µ—Å –≤ –ú–æ–Ω–∏—Ç–æ—Ä –ø–æ—Ä—Ç–∞. –ö–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é Arduino Nano.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ APN –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ MTS.
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞ –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.
* –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ GET-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
* –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ –∏ –≤—ã–≤–æ–¥ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ (–∫–æ–¥ 200).
* –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π (—Å–±—Ä–æ—Å —Å—Ç–∞—Ä—ã—Ö HTTP/GPRS —Å–µ—Å—Å–∏–π –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º).

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é

1. **Arduino Nano** (–∏–ª–∏ Uno/Pro Mini).
2. **–ú–æ–¥—É–ª—å GSM/GPRS SIM800L** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è V2.0 —Å –ø–∏—Ç–∞–Ω–∏–µ–º 5–í, –ª–∏–±–æ –∫—Ä–∞—Å–Ω–∞—è –ø–ª–∞—Ç–∞ —Å –ø–æ–Ω–∏–∂–∞—é—â–∏–º –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–æ–º).
3. **–í–Ω–µ—à–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è** –¥–ª—è SIM800L (5V, –º–∏–Ω–∏–º—É–º 2–ê). **–í–∞–∂–Ω–æ:** –ü–∏—Ç–∞–Ω–∏–µ –æ—Ç USB Arduino –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ!
4. **SIM-–∫–∞—Ä—Ç–∞** (Nano/Micro) —Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π 2G. –ü–ò–ù-–∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–Ω—è—Ç.
5. –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞.

## üîå –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–°–∫–µ—Ç—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç (`SoftwareSerial`) –Ω–∞ –ø–∏–Ω–∞—Ö D10 –∏ D11.

| Arduino Nano | SIM800L | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
| --- | --- | --- |
| **D10** | **TXD** | Arduino –ø—Ä–∏–Ω–∏–º–∞–µ—Ç (RX) |
| **D11** | **RXD** | Arduino –ø–µ—Ä–µ–¥–∞–µ—Ç (TX) |
| **GND** | **GND** | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∑–µ–º–ª–∏!** |
| - | **5V / VCC** | –ö –ø–ª—é—Å—É –≤–Ω–µ—à–Ω–µ–≥–æ –ë–ü (5V 2A) |
| **GND** | **GND** | –ö –º–∏–Ω—É—Å—É –≤–Ω–µ—à–Ω–µ–≥–æ –ë–ü |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ "–∫—Ä–∞—Å–Ω—ã–π" –º–æ–¥—É–ª—å SIM800L (–±–µ–∑ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è), –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ **3.7–í - 4.2–í**. –ü–æ–¥–∞—á–∞ 5–í —Å–æ–∂–∂–µ—Ç –º–æ–¥—É–ª—å.

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–µ—Ç—á–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (APN)

–í –∫–æ–¥–µ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è **MTS (Russia)**. –ï—Å–ª–∏ —É –≤–∞—Å –¥—Ä—É–≥–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä, –Ω–∞–π–¥–∏—Ç–µ –≤ –±–ª–æ–∫–µ `void setup()` —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∏—Ö:

```cpp
// –ü—Ä–∏–º–µ—Ä –¥–ª—è Beeline
sendCmd("AT+SAPBR=3,1,\"APN\",\"internet.beeline.ru\"");
sendCmd("AT+SAPBR=3,1,\"USER\",\"beeline\"");
sendCmd("AT+SAPBR=3,1,\"PWD\",\"beeline\"");

// –ü—Ä–∏–º–µ—Ä –¥–ª—è Megafon
sendCmd("AT+SAPBR=3,1,\"APN\",\"internet\"");
sendCmd("AT+SAPBR=3,1,\"USER\",\"gdata\"");
sendCmd("AT+SAPBR=3,1,\"PWD\",\"gdata\"");

```

### 2. –ü–∏–Ω—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø–∏–Ω—ã, –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

```cpp
SoftwareSerial sim800(10, 11); // (RX, TX) -> (10, 11)

```

*–ü–µ—Ä–≤—ã–π –Ω–æ–º–µ—Ä ‚Äî —ç—Ç–æ –ø–∏–Ω Arduino, –∫—É–¥–∞ –≤—Ç—ã–∫–∞–µ—Ç—Å—è –ø—Ä–æ–≤–æ–¥ TX –æ—Ç –º–æ–¥—É–ª—è.*

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–µ—Ç—á –≤ **Arduino IDE**.
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–ª–∞—Ç—É (**Tools** -> **Board** -> **Arduino Nano**) –∏ –ø–æ—Ä—Ç.
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫–µ—Ç—á –≤ –ø–ª–∞—Ç—É.
4. –û—Ç–∫—Ä–æ–π—Ç–µ **Serial Monitor** (–ú–æ–Ω–∏—Ç–æ—Ä –ø–æ—Ä—Ç–∞).
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å **9600 –±–æ–¥**.
6. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–æ–º. –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç –æ–∫–æ–ª–æ 10-15 —Å–µ–∫—É–Ω–¥.

## üîç –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–æ–¥–∞

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –°–∫—Ä–∏–ø—Ç –∂–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ—Ä—Ç–∞ –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
2. **–û—á–∏—Å—Ç–∫–∞:** –ü–æ—Å—ã–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã `AT+HTTPTERM` –∏ `AT+SAPBR=0,1`, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å –ª—é–±—ã–µ "–∑–∞–≤–∏—Å—à–∏–µ" —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ø—Ä–æ—à–ª–æ–≥–æ —Ä–∞–∑–∞.
3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GPRS:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã APN, Login, Password.
4. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç GPRS (`AT+SAPBR=1,1`) –∏ –∂–¥–µ—Ç 5 —Å–µ–∫—É–Ω–¥.
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ IP:** –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π IP. –ï—Å–ª–∏ IP –Ω–µ –ø–æ–ª—É—á–µ–Ω (–Ω–µ—Ç –∫–∞–≤—ã—á–µ–∫ –≤ –æ—Ç–≤–µ—Ç–µ), —Å–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.
6. **HTTP –ó–∞–ø—Ä–æ—Å:**
* –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç HTTP —Å–ª—É–∂–±—É.
* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç URL `http://eth0.me`.
* –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç GET –∑–∞–ø—Ä–æ—Å (`AT+HTTPACTION=0`).


7. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞:** –í —Ü–∏–∫–ª–µ `loop()` –æ–∂–∏–¥–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `200` (OK). –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ (`AT+HTTPREAD`) –∏ –≤—ã–≤–æ–¥–∏—Ç IP-–∞–¥—Ä–µ—Å.

## ‚ùì –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

* **–ú–æ–¥—É–ª—å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (–≤ –ª–æ–≥–µ –ø—É—Å—Ç–æ—Ç–∞ –∏–ª–∏ –º—É—Å–æ—Ä):**
* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 9600).
* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ TX/RX (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ –ø—Ä–æ–≤–æ–¥–∞ –Ω–∞ D10/D11).
* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–µ–º–ª–∏ (GND) –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã.


* **–û—à–∏–±–∫–∞ `ERROR` –Ω–∞ –∫–æ–º–∞–Ω–¥–µ `AT+SAPBR=1,1`:**
* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å SIM-–∫–∞—Ä—Ç—ã.
* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∏—Ç–∞–Ω–∏–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ—â–Ω–æ–µ (—Å–≤–µ—Ç–æ–¥–∏–æ–¥ –Ω–∞ –º–æ–¥—É–ª–µ –Ω–µ –¥–æ–ª–∂–µ–Ω –≥–∞—Å–Ω—É—Ç—å).
* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞–Ω—Ç–µ–Ω–Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ.


* **–ö–æ–¥ 601 –∏–ª–∏ 603 –≤–º–µ—Å—Ç–æ 200:**
* –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –∏–ª–∏ DNS. –û–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø–ª–æ—Ö–æ–π —É—Ä–æ–≤–µ–Ω—å —Å–∏–≥–Ω–∞–ª–∞ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ APN.



## üìÑ –ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∞

```text
--- SUPER LITE TEST (eth0.me) ---

[1] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏...
...OK

[2] –í–∫–ª—é—á–∞–µ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–∂–¥–µ–º 5 —Å–µ–∫)...
...OK
+SAPBR: 1,1,"10.123.45.67"

[3] –ó–∞–ø—Ä–æ—Å –≤–Ω–µ—à–Ω–µ–≥–æ IP...
...OK
>>> GET –∑–∞–ø—Ä–æ—Å...
...OK

+HTTPACTION: 0,200,14

--- –£–°–ü–ï–•! –í–ê–® IP: ---
+HTTPREAD: 14
185.12.34.56
OK
----------------------

```
